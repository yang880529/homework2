<html>
  <body>
<style>
#info {
		position: absolute;
    width: 100%;
		font-family: Monospace;
		font-size: 20px;
		padding: 5px;
		text-align: center;
		color: #003333;
}

#gui {
    position: absolute;
    top: 20px;
    left: 20px;
}



body {
  overflow: hidden;
}

</style> 
<div id="info"> 
	 <br>music box<br>
  </div>
<audio id="collisionsound" style="display:none">
<source src="https://madhipoo.github.io/html/music/Taiko drum(Bass drum).mp3"type="audio/wav">
</audio>
<audio id="collisionsound2" style="display:none">
<source src="https://madhipoo.github.io/html/music/Crash Cymbals.mp3" type="audio/wav">
</audio>
<audio id="collisionsound3" style="display:none">
<source src="https://madhipoo.github.io/html/music/Small drum.mp3" type="audio/wav">
</audio>
<audio id="collisionsound4" style="display:none">
<source src="https://yang880529.github.io/music/G(1).mp3"type="audio/wav">
</audio>
<audio id="collisionsound5" style="display:none">
<source src="https://yang880529.github.io/music/B(3).mp3" type="audio/wav">
</audio>
<audio id="collisionsound6" style="display:none">
<source src="https://yang880529.github.io/music/C(4).mp3" type="audio/wav">
</audio>
<audio id="collisionsound7" style="display:none">
<source src="https://yang880529.github.io/music/D(5).mp3"type="audio/wav">
</audio>
<audio id="collisionsound8" style="display:none">
<source src="https://yang880529.github.io/music/E(6).mp3" type="audio/wav">
</audio>
<audio id="collisionsound9" style="display:none">
<source src="https://yang880529.github.io/music/F(7).mp3" type="audio/wav">
</audio>
<audio id="collisionsound10" style="display:none">
<source src="https://yang880529.github.io/music/G(8).mp3"type="audio/wav">
</audio>
<audio id="collisionsound11" style="display:none">
<source src="https://yang880529.github.io/music/A(9).mp3" type="audio/wav">
</audio>
<audio id="collisionsound12" style="display:none">
<source src="https://yang880529.github.io/music/B(10).mp3" type="audio/wav">
</audio>
<audio id="collisionsound13" style="display:none">
<source src="https://yang880529.github.io/music/C(11).mp3" type="audio/wav">
</audio>
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5/dat.gui.min.js"></script>
<script src="https://raw.githack.com/mrdoob/three.js/dev/examples/js/misc/Gyroscope.js"></script>
<script src="https://raw.githack.com/mrdoob/three.js/dev/examples/js/utils/SceneUtils.js"></script>
<script src="https://jyunming-chen.github.io/tutsplus/js/KeyboardState.js"></script>


<script>


var camera, scene, renderer,controls,speedL=0,speedR=0;
var k = 5,angle=0;
var opc = 0.5;
var head,leftarm, torso, leftleg, rightarm ,rightleg;
var people = [];
var gcontrol;
var gyro;
var box;
var light;
var body,body2,body3,body4,body5,body6,body7,body8,body9,body10,headBody,headBody2,Torsobody,Torsobody2,stick;
var keyboard = new KeyboardState();
var car,circle;
var clock = new THREE.Clock();
var pos = new THREE.Vector3();
var speed=0, angle=0, vel=0,rotspeed=0,b=1;
var a=1,Pianocylinder;


var theta1 = 0,
  theta2 = 0,
  theta3 = 0,
  theta4 = 0,
  theta5 = 0,
  theta6 = 0,
  theta7 = 0,
  theta8 = 0,
  theta9 = 0,
  theta10 = 0,
  theta11 = 0,
  theta12 = 0;
var pose1 = {
        theta1: 1.2057796021989051,
        theta2: 0,
        theta3: 1.5,
        theta4: 0.6,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: -0.33541054459782915,
        theta10: -0.025268798743482757,
        theta11: 0,
        theta12: 0
	}
var pose2 = {
        theta1: 1.5,
        theta2: 1,
        theta3: 1.2057796021989051,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0.48424978373151495,
        theta10: 0.08549611049021233,
        theta11: 0,
        theta12: 0
}
var pose3 = {
        theta1: 1.5,
        theta2: 1,
        theta3: 1.5,
        theta4: 1,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0,
        theta11: 0,
        theta12: 0
}

var pose11 = {
        theta1: 0.7,
        theta2: 1,
        theta3: 0.7,
        theta4: 1,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0,
        theta11: 0.7300855658923833,
        theta12:  -0.730855658923833,
}
var pose12 = {
        theta1: 0.7,
        theta2: 1,
        theta3: 0.7,
        theta4: 1,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0,
        theta11: 0,
        theta12: 0
}

var pose21 = {
        theta1: 1.2,
        theta2: 0.4,
        theta3: 1.2,
        theta4: 0.4,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: -0.33541054459782915,
        theta10: -0.025268798743482757,
        theta11: -1.903427398586418,
        theta12: -1.202492653517395,
        theta13: 0,
        theta14: -1.7341642178391317
	}
var pose22 = {
        theta1: 1.2,
        theta2: 0.4,
        theta3: 1.2,
        theta4: 0.4,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: -0.24679861721087304,
        theta10: -0.06957476243696081,
        theta11: -1.903427398586418,
        theta12: -1.202492653517395,
        theta13: 0.797507346482605,
        theta14: -1.1581866898239168
}
var pose23 = {
        theta1: 1.2,
        theta2: 0.4,
        theta3: 1.2,
        theta4: 0.4,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0.48424978373151495,
        theta10: 0.08549611049021233,
        theta11: -1.903427398586418,
        theta12: -1.202492653517395,
        theta13: 1.7357796021989051,
        theta14: 0
}

var pose31 = {
        theta1: 0.3,
        theta2: 0.5,
        theta3: 0.3,
        theta4: 0.5,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: -0.3,
        theta11: 1,
        theta12: -1
	}
var pose32 = {
        theta1: 0.1,
        theta2: 0.3,
        theta3: 0.1,
        theta4: 0.3,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0,
        theta11: 0.9,
        theta12: -0.9
}
var pose33 = {
        theta1: 0.3,
        theta2: 0.5,
        theta3: 0.3,
        theta4: 0.5,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0.3,
        theta11: 1,
        theta12: -1
}
var pose34 = {
        theta1: 0.5,
        theta2: 0.8,
        theta3: 0.5,
        theta4: 0.8,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0,
        theta11: 1,
        theta12: -1
}


var pose41 = {
        theta1: 0.2,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
	}
var pose42 = {
        theta1: 0,
        theta2: 0.2,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose43 = {
        theta1: 0,
        theta2: 0,
        theta3: 0.2,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose44 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0.2,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose45 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0.2,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose46 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0.2,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose47 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0.2,
        theta8: 0,
        theta9: 0,
        theta10: 0
}
var pose48 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0.2,
        theta9: 0,
        theta10: 0
}
var pose49 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0.2,
        theta10: 0
	}
var pose50 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0.2
	}
var pose51 = {
        theta1: 0,
        theta2: 0,
        theta3: 0,
        theta4: 0,
        theta5: 0,
        theta6: 0,
        theta7: 0,
        theta8: 0,
        theta9: 0,
        theta10: 0
	}

var keys = [
  [0, pose3],
  [0.015625,pose1],
  [0.140625,pose2],
  [0.265625,pose1],
  [0.390625,pose2],
  [0.515625,pose1],
  [0.640625,pose2],
  [0.765625,pose1],
  [0.890625,pose2],
  [1, pose3]
];

var keys2 = [
  [0, pose12],
  [0.015625,pose11],
  [0.078125,pose12],
  [0.140625,pose11],
  [0.203125,pose12],
  [0.265625,pose11],
  [0.328125,pose12],
  [0.390625,pose11],
  [0.453125,pose12],
  [0.515625,pose11],
  [0.578125,pose12],
  [0.640625,pose11],
  [0.703125,pose12],
  [0.765625,pose11],
  [0.828125,pose12],
  [0.890625,pose11],
  [0.90625,pose12],
	[0.921875,pose11],
  [0.9375,pose12],
  [0.953125,pose11],
  [1, pose12]
];

var keys3 = [
  [0, pose22],
  [0.046875, pose21],
  [0.109375, pose23],
	[0.140625, pose21],
  [0.171875, pose23],
  [0.203125, pose21],
  [0.296875, pose23],
  [0.359375, pose21],
	[0.390625, pose23],
  [0.421875, pose21],
  [0.453125, pose23],
  [0.546875, pose21],
  [0.609375, pose23],
	[0.640625, pose21],
  [0.671875, pose23],
  [0.703125, pose21],
  [0.765625, pose23],
  [0.859375, pose21],
	[0.890625, pose23],
  [0.921875, pose21],
  [0.953125, pose23],
  [1, pose22]
];

var keys4 = [
  [0, pose31],
  [0.125, pose34],
  [0.250, pose33],
  [0.375, pose32],
  [0.5, pose31],
  [0.625, pose34],
  [0.750, pose33],
  [0.875, pose32],
  [1, pose31]
];

var keys5 = [
  [0, pose43],
  [0.0078125, pose51],
  [0.015625, pose43],
  [0.03125, pose41],
  [0.046875, pose43],
  [0.0625, pose45],
  [0.078125, pose43],
  [0.09375, pose45],
  [0.109375, pose47],
  [0.125, pose43],
  [0.140625, pose50],
  [0.15625, pose49],
  [0.171875, pose48],
  [0.1875, pose47],
  [0.203125, pose51],
  [0.21875, pose51],
  [0.234375, pose51],
  [0.25, pose47],
  [0.2578125, pose51],
  [0.265625, pose47],
  [0.28125, pose46],
  [0.296875, pose44],
  [0.3125, pose42],
  [0.328125, pose41],
  [0.34375, pose42],
  [0.359375, pose44],
  [0.375, pose46],
  [0.390625, pose45],
  [0.40625, pose43],
  [0.421875, pose48],
  [0.4375, pose47],
  [0.453125, pose51],
  [0.46875, pose51],
  [0.484375, pose51],
  [0.5, pose43],
  [0.5078125, pose51],
  [0.515625, pose43],
  [0.53125, pose41],
  [0.546875, pose43],
  [0.5625, pose45],
  [0.578125, pose43],
  [0.59375, pose45],
  [0.609375, pose47],
  [0.625, pose43],
  [0.640625, pose50],
  [0.65625, pose49],
  [0.671875, pose48],
  [0.6875, pose47],
  [0.703125, pose51],
  [0.71875, pose51],
  [0.734375, pose51],
  [0.75, pose43],
  [0.765625, pose47],
  [0.78125, pose46],
  [0.796875, pose44],
  [0.8125, pose42],
  [0.828125, pose41],
  [0.84375, pose42],
  [0.859375, pose44],
  [0.875, pose42],
  [0.890625, pose43],
  [0.90625, pose41],
  [0.921875, pose45],
  [0.9375, pose43],
  [0.953125, pose51],
  [0.96875, pose51],
  [0.984375, pose51],
  [1, pose43]
];

var T = 1200/60;
var T2 = 600/60;
var clock = new THREE.Clock();
var ts = clock.getElapsedTime();  // start time
var intKey = [];
var intKey2 = [];
var intKey3 = [];
var intKey4 = [];
var intKey5 = [];



(function() {
  Math.clamp = function(val,min,max){
    return Math.min(Math.max(val,min),max);
    
  }})();


init();
animate();


function init() {
  collisionsound = document.getElementById('collisionsound');
  //collisionsound.crossOrigin="anonymous";
  collisionSound2 = document.getElementById ('collisionsound2');
  collisionSound3 = document.getElementById ('collisionsound3');
  collisionsound4 = document.getElementById('collisionsound4');
  collisionSound5 = document.getElementById ('collisionsound5');
  collisionSound6 = document.getElementById ('collisionsound6');
  collisionsound7 = document.getElementById('collisionsound7');
  collisionSound8 = document.getElementById ('collisionsound8');
  collisionSound9 = document.getElementById ('collisionsound9');
  collisionsound10 = document.getElementById('collisionsound10');
  collisionSound11 = document.getElementById ('collisionsound11');
  collisionSound12 = document.getElementById ('collisionsound12');
  collisionSound13 = document.getElementById ('collisionsound13');
  scene = new THREE.Scene();

  renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0x888888);
  document.body.appendChild(renderer.domElement);

  camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
  camera.position.z = 500;
  controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableKeys = false;

  ////////////////////////////////////////////////////////////////
  /*var gridXZ = new THREE.GridHelper(200, 20, 'red', 'white');
  scene.add(gridXZ);*/
////////////////

  people = buildDrumMan();
  scene.add(people[0]);
  let drum = buildDrum();
  
  people2 = buildMan();
  scene.add(people2[0]);
  
  people3 = builddrumMan();
  scene.add(people3[0]);
  
  people4 = buildpianoMan();
  scene.add(people4[0]);
  
  let piano = buildpiano();
  piano.position.set(35,20,5);


  
  var geometry = new THREE.CircleBufferGeometry( 1, 32 );
	var material = new THREE.MeshLambertMaterial( { color: 'red',side:THREE.DoubleSide});
  circle = new THREE.Mesh( geometry, material );
  circle.rotation.x=-Math.PI/2;
  circle.position.y=1;
  scene.add(circle);
/////////////////////
  /*gcontrol = {
    theta1: 0.01,
    theta2: 0.01,
    theta3: 0.01,
    theta4: 0.01,
    theta5: 0.01,
    theta6: 0.01,
    theta7: 0.01,
    theta8: 0.01,
    theta9: 0.01,
    theta10: 0.01,
    theta11: 0.01,
    theta12: 0.01,
  };

  var gui = new dat.GUI({load:loadJSON(), preset:'key1'});
  gui.domElement.id = 'gui';

	gui.remember (gcontrol);
  
  gui.add(gcontrol, 'theta1', -0.5, 1.5);
  gui.add(gcontrol, 'theta2', 0, 1);
  gui.add(gcontrol, 'theta3', -0.5, 1.5);
  gui.add(gcontrol, 'theta4', 0, 1);
  gui.add(gcontrol, 'theta5', -0.8, 0.8);
  gui.add(gcontrol, 'theta6', -1, 0);
  gui.add(gcontrol, 'theta7', -0.8, 0.8);
  gui.add(gcontrol, 'theta8', -1, 0);
  gui.add(gcontrol, 'theta9', -1, 1);
  gui.add(gcontrol, 'theta10', -1, 1); 
  gui.add(gcontrol, 'theta11', -1, 0);
  gui.add(gcontrol, 'theta12', 0, 1); */
  ///////////////////////////////////////
  car= new THREE.Group();
  car2= new THREE.Group();
  car3= new THREE.Group();
  car4= new THREE.Group();
  /*tire1=buildtire();
  tire1.position.set(0,10,15);
  tire2=buildtire();
  tire2.position.set(0,10,-15);
  tire3=buildtire();
  tire3.position.set(0,10,15);
  tire4=buildtire();
  tire4.position.set(0,10,-15);
  tire5=buildtire();
  tire5.position.set(0,10,15);
  tire6=buildtire();
  tire6.position.set(0,10,-15);
  var material = new THREE.MeshLambertMaterial( { color:'black',side:THREE.DoubleSide } );
  box = new THREE.Mesh (new THREE.BoxGeometry(20, 15, 2), material); 
  box.rotation.set(Math.PI/2,0,Math.PI/2);
  box.position.set(0,10,0);
  box2 = new THREE.Mesh (new THREE.BoxGeometry(20, 15, 2), material); 
  box2.rotation.set(Math.PI/2,0,Math.PI/2);
  box2.position.set(0,10,0);
  box3 = new THREE.Mesh (new THREE.BoxGeometry(20, 15, 2), material); 
  box3.rotation.set(Math.PI/2,0,Math.PI/2);
  box3.position.set(0,10,0);
  people[0].position.set(0,10,0)*/
  car.position.set(0,0,-20);
  car.rotation.y=Math.PI/2;
  car.add(people[0],drum);
  scene.add(car);
  //people2[0].position.set(0,10,0)
  car2.position.set(65,0,-50);
  car2.rotation.y=-Math.PI/2;
  car2.add(people2[0]);
  scene.add(car2);
  //people3[0].position.set(0,10,0)
  car3.position.set(-65,0,-50);
  car3.rotation.y=-Math.PI/2;
  car3.add(people3[0]);
  scene.add(car3);
  
	car4.position.set(-35,0,35);
  car4.add(people4[0],piano);
  scene.add(car4);


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  texture = loader.load('https://i.imgur.com/XQP0bm3.png');
  alpha = loader.load('https://i.imgur.com/XeDC2uO.png');

  var texMat = new THREE.MeshPhongMaterial({
    map: texture,
    alphaMap: alpha,
    transparent: true,
    side: THREE.DoubleSide
  });
  var shadow = new THREE.Mesh(new THREE.PlaneGeometry(80,80), texMat);
  shadow.rotation.x=Math.PI/2;
  shadow.position.y=0.1;
  var shadow2 = new THREE.Mesh(new THREE.PlaneGeometry(80,80), texMat);
  shadow2.rotation.x=Math.PI/2;
  shadow2.position.y=0.1;
  var shadow3 = new THREE.Mesh(new THREE.PlaneGeometry(80,80), texMat);
  shadow3.rotation.x=Math.PI/2;
  shadow3.position.y=0.1;
  var shadow4 = new THREE.Mesh(new THREE.PlaneGeometry(80,80), texMat);
  shadow4.rotation.x=Math.PI/2;
  shadow4.position.y=0.1;
  car.add(shadow);
	car2.add(shadow2);
	car3.add(shadow3);
  car4.add(shadow4); 
    
    
  loader.crossOrigin = '';
  texture = loader.load('https://i.imgur.com/XQP0bm3.png');
  alpha = loader.load('https://i.imgur.com/rf4FmX5.png');

  var texMat = new THREE.MeshPhongMaterial({
    map: texture,
    alphaMap: alpha,
    transparent: true,
    side: THREE.DoubleSide
  });
  var shadow2 = new THREE.Mesh(new THREE.PlaneGeometry(50,50), texMat);
  shadow2.rotation.set(Math.PI/2,0,0);
  shadow2.position.set(0,0.11,-60);
  scene.add(shadow2);


  var shadow3 = new THREE.Mesh(new THREE.PlaneGeometry(60,60), texMat);
  shadow3.rotation.set(Math.PI/2,0,0);
  shadow3.position.set(0,0.11,50);
  scene.add(shadow3);
  
  var light = new THREE.PointLight(0x888888);
  light.position.set(100, 100, 100);
  scene.add(light);
  var light2 = new THREE.PointLight(0x888888);
  light2.position.set(-100, 100, -100);
  scene.add(light2);


  loader.setCrossOrigin ('');
  loader.crossOrigin = '';
  texture = loader.load('https://i.imgur.com/TMNe2WF.jpg');
  var floor = new THREE.Mesh(new THREE.PlaneGeometry(200, 200),
                             new THREE.MeshLambertMaterial({map: texture,side: THREE.DoubleSide}));
  floor.rotation.x = -Math.PI / 2;
  scene.add(floor);


  

	/*slhelper = new THREE.SpotLightHelper (light);
  lschelper = new THREE.CameraHelper(light.shadow.camera)  
  scene.add (slhelper)
  scene.add(lschelper);*/


  ////// create positionaudio
  /*var listener = new THREE.AudioListener();
  listener.crossOrigin = "anonymous";
  var listener2 = new THREE.AudioListener();
  listener2.crossOrigin = "anonymous2";
  camera.add(listener,listener2);


  sound = new THREE.PositionalAudio( listener );
  sound.setMediaElementSource( collisionsound );
  sound.setRefDistance( 3 );
  sound.panner.setOrientation(1,0,0);
  sound.setDirectionalCone( 360, 200, 0.1 );

  sound2 = new THREE.PositionalAudio( listener2 );
  sound2.setMediaElementSource( collisionsound2 );
  sound2.setRefDistance( 3 );
  sound2.panner.setOrientation(1,0,0);
  sound2.setDirectionalCone( 360, 200, 0.1 );

  var box = new THREE.BoxGeometry(2,1,5);
  thebox = new THREE.Mesh(box,new THREE.MeshNormalMaterial());
  thebox.rotation.y=Math.PI;

  thebox.add(sound,sound2);
  sound.position.set(0,0,2.5);
  sound2.position.set(0,0,2.5);
  thebox.position.set(26,45,0);
  thebox.rotation.y=Math.PI/2;
  scene.add(thebox);*/

}


function buildDrum(){
	box = new THREE.Group();
  var loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  var colormap = loader.load ('https://i.imgur.com/MTtMccq.jpg');
  var points = [];
  for ( var i = 0; i < 10; i ++ ) {
    points.push( new THREE.Vector2( Math.sin( i * 0.2 ) * 2 + 18, ( i - 5 ) * 2 ) );
  }
  var geometry = new THREE.LatheGeometry( points );
  var material = new THREE.MeshLambertMaterial( { map: colormap} );
  var lathe1 = new THREE.Mesh( geometry, material );
  lathe1.rotation.z=Math.PI/2;
  lathe1.position.set(48,45,0);
  scene.add( lathe1 );
  for ( var i = 0; i < 10; i ++ ) {
    points.push( new THREE.Vector2( Math.sin( i * 0.2 ) * 2 + 18, ( i - 5 ) * 2 ) );
  }

  var lathe2 = new THREE.Mesh( geometry, material );
  lathe2.rotation.z=-Math.PI/2;
  lathe2.position.set(33,45,0);
  scene.add( lathe2 );


  var geometry = new THREE.CylinderBufferGeometry(18, 18, 1, 64 );
  var material = new THREE.MeshLambertMaterial( {color: 0xeba434} );
  cylinder2 = new THREE.Mesh( geometry, material );
  cylinder2.position.set(23,45,0);
  cylinder2.rotation.z=-Math.PI/2;
  cylinder3 = new THREE.Mesh( geometry, material );
  cylinder3.position.set(58,45,0);
  cylinder3.rotation.z=-Math.PI/2;
  var loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  var colormap = loader.load ('https://i.imgur.com/rMKI0rA.jpg');
  var geometry = new THREE.CylinderBufferGeometry(1, 1, 50, 32 );
  var material = new THREE.MeshLambertMaterial( {map: colormap} );
  cylinder4 = new THREE.Mesh( geometry, material );
  cylinder4.position.set(51,18,0);
  cylinder4.rotation.x=-Math.PI/4;
  cylinder5 = new THREE.Mesh( geometry, material );
  cylinder5.position.set(51,18,0);
  cylinder5.rotation.x=Math.PI/4;
  cylinder6 = new THREE.Mesh( geometry, material );
  cylinder6.position.set(30,18,0);
  cylinder6.rotation.x=-Math.PI/4;
  cylinder7 = new THREE.Mesh( geometry, material );
  cylinder7.position.set(30,18,0);
  cylinder7.rotation.x=Math.PI/4;
  box.add(lathe1,lathe2,cylinder2,cylinder3,cylinder4,cylinder5,cylinder6,cylinder7);

  return box;
  }
  
  
function buildDrumMan(){
  man = new THREE.Group();
	//GroupA.add(mine);
	head = makeHead();
	torso = makeTorso();
	man.add(torso);
	head.position.y = 7.57*k-4.09*k;
	torso.position.y = 4.09*k;
	torso.add(head);

	leftarm = makeArm();
	leftarm[0].position.set (-1.88*k, 7.57*k-4.09*k, 0);
	leftarm[0].add(leftarm[1]);
	torso.add (leftarm[0]);
	rightarm = makeArm();
	rightarm[0].position.set (1.88*k, 7.57*k-4.09*k, 0);
	rightarm[0].add(rightarm[1]);
	torso.add(rightarm[0]);


	leftleg = makeLeg();
	leftleg[0].position.set  (-0.63*k, 4.09*k-4.09*k, 0);
	leftleg[0].add(leftleg[1]);
	torso.add(leftleg[0]);


	rightleg = makeLeg();
	rightleg[0].position.set (0.63*k, 4.09*k-4.09*k, 0);
	rightleg[0].add(rightleg[1]);
	torso.add(rightleg[0]);

	man.rotation.y=-Math.PI/2;	
	man.position.y=0.01;
	leftarm[0].rotation.z = -Math.PI/2;
	rightarm[0].rotation.z = -Math.PI/2;
	leftleg[0].rotation.z = -Math.PI/2;
	rightleg[0].rotation.z = -Math.PI/2;
	
	leftarm[0].rotation.order = 'ZYX';
	rightarm[0].rotation.order = 'ZYX';
	leftleg[0].rotation.order = 'ZYX';
	rightleg[0].rotation.order = 'ZYX';
  man.rotation.order = 'ZYX';
  return [man,head,torso,leftarm[0],leftarm[1],rightarm[0],rightarm[1],leftleg[0],leftleg[1],rightleg[0],rightleg[1]];
}


function makeArm() {
	var group = new THREE.Group();
 	var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:'white',side:THREE.DoubleSide } );
  body = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material); 
  var material = new THREE.MeshBasicMaterial( { color:'white'} );
  body2 = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material);
  var geometry = new THREE.CylinderBufferGeometry(1, 1, 10, 32 );
  var material = new THREE.MeshBasicMaterial( {color: 0x803d0a} );
  stick= new THREE.Mesh( geometry, material );
  body3=buildarm();
  body3.rotation.z=Math.PI/2;
  body3.position.x = 1.92*k;
  body6=buildarm2();
  body6.rotation.z=Math.PI/2;
  body6.position.x = 1.92*k;
  stick.position.set(2*k,0,-5);
  stick.rotation.x=Math.PI/2;
  group2.add(body2,stick,body6);
  group.add (body,group2,body3);
  body.position.x = 1.91*k/2;
  body2.position.x = 1.91*k/2;
  group2.position.x =2*k;
  

  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2,stick];
}

function makeLeg() {
	var group = new THREE.Group();
  var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  body4 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k,  1.26*k, 1.26*k), material);
  body5 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k, 1.26*k, 1.26*k), material);
  body7=buildleg();
  body7.rotation.z=Math.PI/2;
  body7.position.x = 2.046*k;
  body8=buildleg2();
  body8.rotation.z=Math.PI/2;
  body8.position.x = 2.046*k;
  group2.add(body5,body8);
	group.add (body4,group2,body7);
  body4.position.x = 2.045*k/2;
  body5.position.x =2.045*k/2;
  group2.position.x =2.045*k;
  

  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2];
}

function makeHead() {
	var headGroup = new THREE.Group();
  var mat = new THREE.MeshBasicMaterial({color:0x99d8ea});
  headBody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 2.52*k, 2.52*k), mat);
  headBody2=buildface();
  headBody2.rotation.y=Math.PI;
	headGroup.add (headBody,headBody2);
  headBody.position.y = 2.53*k/2;
  

  //headGroup.add (new THREE.AxesHelper (k));
	return headGroup;
}
function makeTorso () {
	var group = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  Torsobody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 3.48*k, 1.26*k), material);
  Torsobody2=buildTorso();
  Torsobody2.rotation.y=Math.PI;
	group.add (Torsobody,Torsobody2);
  Torsobody.position.y = 3.48*k/2;

	//group.add (new THREE.AxesHelper (2*k));
return group;

}
function keyframe(t) {
  var s = ((t - ts) % T) / T;

  for (var i = 1; i < keys.length; i++) {
    if (keys[i][0] > s) break;
  }
  // take i-1
  var ii = i - 1;
  var a = (s - keys[ii][0]) / (keys[ii + 1][0] - keys[ii][0]);
  intKey = [keys[ii][1].theta1 * (1 - a) + keys[ii + 1][1].theta1 * a,
            keys[ii][1].theta2 * (1 - a) + keys[ii + 1][1].theta2 * a,
            keys[ii][1].theta3 * (1 - a) + keys[ii + 1][1].theta3 * a,
            keys[ii][1].theta4 * (1 - a) + keys[ii + 1][1].theta4 * a,
            keys[ii][1].theta5 * (1 - a) + keys[ii + 1][1].theta5 * a,
            keys[ii][1].theta6 * (1 - a) + keys[ii + 1][1].theta6 * a,
            keys[ii][1].theta7 * (1 - a) + keys[ii + 1][1].theta7 * a,
            keys[ii][1].theta8 * (1 - a) + keys[ii + 1][1].theta8 * a,
            keys[ii][1].theta9 * (1 - a) + keys[ii + 1][1].theta9 * a,
            keys[ii][1].theta10 * (1 - a) + keys[ii + 1][1].theta10 * a,
            keys[ii][1].theta11 * (1 - a) + keys[ii + 1][1].theta11 * a,
            keys[ii][1].theta12 * (1 - a) + keys[ii + 1][1].theta12 * a
  ];

}

function buildface() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, -2.53*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/w9ecQHE.png');
  let texture1 = loader.load('https://i.imgur.com/eurfyeB.png');
  let texture2 = loader.load('https://i.imgur.com/C4LDaUa.png');
  let texture3 = loader.load('https://i.imgur.com/CAW1ivf.png');
  let texture4 = loader.load('https://i.imgur.com/Ea7TDJr.png');
  let texture5 = loader.load('https://i.imgur.com/tm3kMEu.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildTorso() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/xgm2XHs.png');
  let texture1 = loader.load('https://i.imgur.com/lAEtuWa.png');
  let texture2 = loader.load('https://i.imgur.com/jCLMpBH.png');
  let texture3 = loader.load('https://i.imgur.com/lAEtuWa.png');
  let texture4 = loader.load('https://i.imgur.com/zRzqrqa.png');
  let texture5 = loader.load('https://i.imgur.com/SlIV2tr.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildarm() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/pr90G1k.png');
  let texture2 = loader.load('https://i.imgur.com/E8sdMmm.png');
  let texture3 = loader.load('https://i.imgur.com/oPq5ZXS.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildarm2() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/xzplHXb.png');
  let texture2 = loader.load('https://i.imgur.com/oPq5ZXS.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildleg() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/LecROT6.png');
  let texture2 = loader.load('https://i.imgur.com/aGjVUCT.png');
  let texture3 = loader.load('https://i.imgur.com/oPq5ZXS.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildleg2() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/46Fuiz2.png');
  let texture2 = loader.load('https://i.imgur.com/FzhnKNf.png');
  let texture3 = loader.load('https://i.imgur.com/oPq5ZXS.png');
  let texture4 = loader.load('https://i.imgur.com/xTKa4fq.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture2
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}

///////////////////////////////////////////////////////////////////////////////////////////
function buildMan(){
  man2 = new THREE.Group();
	//GroupA.add(mine);
	head2 = makeHead2();
	torso2 = makeTorso2();
	man2.add(torso2);
	head2.position.y = 7.57*k-4.09*k;
	torso2.position.y = 4.09*k;
	torso2.add(head2);
  var loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  var colormap = loader.load ('https://i.imgur.com/54uWXuj.jpg');
  var geometry = new THREE.CylinderBufferGeometry(5, 10, 1, 32 );
  var material = new THREE.MeshLambertMaterial( {map: colormap} );
  stick= new THREE.Mesh( geometry, material );
  stick2= new THREE.Mesh( geometry, material );
  var geometry = new THREE.BoxGeometry(2, 1, 1, 32 );
  var material = new THREE.MeshLambertMaterial( {color: 'red'} );
  line= new THREE.Mesh( geometry, material );
	line2= new THREE.Mesh( geometry, material );
  
	leftarm2 = makeArm2();
  stick.position.set(2*k,3,0);
  stick.rotation.z+=Math.PI*3/4;
  line.position.set(2*k,1,0);
  line.rotation.z=Math.PI/4;
	leftarm2[0].position.set (-1.88*k, 7.57*k-4.09*k, 0);
	leftarm2[0].add(leftarm2[1]);
	leftarm2[1].add(stick,line);
	torso2.add (leftarm2[0]);
  /*stick.castShadow = true;
  stick.receiveShadow = true;
  line.castShadow = true;
  line.receiveShadow = true;*/
  
	rightarm2 = makeArm2();
  stick2.position.set(2*k,-3,0);
  stick2.rotation.z=Math.PI/5;
  line2.position.set(2*k,-1,0);
  line2.rotation.z=-Math.PI/4;
	rightarm2[0].position.set (1.88*k, 7.57*k-4.09*k, 0);
	rightarm2[0].add(rightarm2[1]);
	rightarm2[1].add(stick2,line2);
	torso2.add(rightarm2[0]);
  /*stick2.castShadow = true;
  stick2.receiveShadow = true;
  line2.castShadow = true;
  line2.receiveShadow = true;*/
  
  
	leftleg2 = makeLeg2();
	leftleg2[0].position.set  (-0.63*k, 4.09*k-4.09*k, 0);
	leftleg2[0].add(leftleg2[1]);
	torso2.add(leftleg2[0]);


	rightleg2 = makeLeg2();
	rightleg2[0].position.set (0.63*k, 4.09*k-4.09*k, 0);
	rightleg2[0].add(rightleg2[1]);
	torso2.add(rightleg2[0]);

	man2.rotation.y=-Math.PI/2;	
	man2.position.y=0.01;
	leftarm2[0].rotation.z = -Math.PI/2;
	rightarm2[0].rotation.z = -Math.PI/2;
	leftleg2[0].rotation.z = -Math.PI/2;
	rightleg2[0].rotation.z = -Math.PI/2;
	
	leftarm2[0].rotation.order = 'ZYX';
	rightarm2[0].rotation.order = 'ZYX';
	leftleg2[0].rotation.order = 'ZYX';
	rightleg2[0].rotation.order = 'ZYX';
  man2.rotation.order = 'ZYX';
  return [man2,head2,torso2,leftarm2[0],leftarm2[1],rightarm2[0],rightarm2[1],leftleg2[0],leftleg2[1],rightleg2[0],rightleg2[1]];
}

function makeArm2() {
	var group = new THREE.Group();
 	var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  body = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material); 
  var material = new THREE.MeshBasicMaterial( { color:'white'} );
  body2 = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material);
  body3=buildarm3();
  body3.rotation.z=Math.PI/2;
  body3.position.x = 1.92*k;
  body8=buildarm4();
  body8.rotation.z=Math.PI/2;
  body8.position.x = 1.92*k;
  group2.add(body2,body8);
  group.add (body,group2,body3);
  body.position.x = 1.91*k/2;
  body2.position.x = 1.91*k/2;
  group2.position.x =2*k;
  
  
  /*body.castShadow = true;
  body.receiveShadow = true;
  body2.castShadow = true;
  body2.receiveShadow = true;*/

  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2];
}



function makeLeg2() {
	var group = new THREE.Group();
  var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  body4 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k,  1.26*k, 1.26*k), material);
  body5 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k, 1.26*k, 1.26*k), material);
  body7=buildleg3();
  body7.rotation.z=Math.PI/2;
  body7.position.x = 2.046*k;
  body8=buildleg4();
  body8.rotation.z=Math.PI/2;
  body8.position.x = 2.046*k;
  group2.add(body5,body8);
	group.add (body4,group2,body7);
  body4.position.x = 2.045*k/2;
  body5.position.x =2.045*k/2;
  group2.position.x =2.045*k;
  
  /*body4.castShadow = true;
  body4.receiveShadow = true;
  body5.castShadow = true;
  body5.receiveShadow = true;*/
  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2];
}


function makeHead2() {
	var headGroup = new THREE.Group();
  var mat = new THREE.MeshBasicMaterial({color:0x99d8ea});
  headBody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 2.52*k, 2.52*k), mat);
  headBody2=buildface2();
  headBody2.rotation.y=Math.PI;
	headGroup.add (headBody,headBody2);
  headBody.position.y = 2.53*k/2;
  
  /*headBody.castShadow = true;
  headBody.receiveShadow = true;*/
  //headGroup.add (new THREE.AxesHelper (k));
	return headGroup;
}
function makeTorso2 () {
	var group = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  Torsobody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 3.48*k, 1.26*k), material);
  Torsobody2=buildTorso2();
  Torsobody2.rotation.y=Math.PI;
	group.add (Torsobody,Torsobody2);
  Torsobody.position.y = 3.48*k/2;
  
    
  /*Torsobody.castShadow = true;
  Torsobody.receiveShadow = true;*/
	//group.add (new THREE.AxesHelper (2*k));
return group;

}
function keyframe2(t) {
  var s = ((t - ts) % T) / T;

  for (var i = 1; i < keys2.length; i++) {
    if (keys2[i][0] > s) break;
  }
  // take i-1
  var ii = i - 1;
  var a = (s - keys2[ii][0]) / (keys2[ii + 1][0] - keys2[ii][0]);
  intKey2 = [keys2[ii][1].theta1 * (1 - a) + keys2[ii + 1][1].theta1 * a,
            keys2[ii][1].theta2 * (1 - a) + keys2[ii + 1][1].theta2 * a,
            keys2[ii][1].theta3 * (1 - a) + keys2[ii + 1][1].theta3 * a,
            keys2[ii][1].theta4 * (1 - a) + keys2[ii + 1][1].theta4 * a,
            keys2[ii][1].theta5 * (1 - a) + keys2[ii + 1][1].theta5 * a,
            keys2[ii][1].theta6 * (1 - a) + keys2[ii + 1][1].theta6 * a,
            keys2[ii][1].theta7 * (1 - a) + keys2[ii + 1][1].theta7 * a,
            keys2[ii][1].theta8 * (1 - a) + keys2[ii + 1][1].theta8 * a,
            keys2[ii][1].theta9 * (1 - a) + keys2[ii + 1][1].theta9 * a,
            keys2[ii][1].theta10 * (1 - a) + keys2[ii + 1][1].theta10 * a,
            keys2[ii][1].theta11 * (1 - a) + keys2[ii + 1][1].theta11 * a,
            keys2[ii][1].theta12 * (1 - a) + keys2[ii + 1][1].theta12 * a
  ];

}

function buildface2() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, -2.53*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/vGfbnJ4.png');
  let texture1 = loader.load('https://i.imgur.com/yTmUllv.png');
  let texture2 = loader.load('https://i.imgur.com/RlEm7ti.png');
  let texture3 = loader.load('https://i.imgur.com/iO09wxW.png');
  let texture4 = loader.load('https://i.imgur.com/WUgVBQI.png');
  let texture5 = loader.load('https://i.imgur.com/wh39Bzb.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildTorso2() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/NhahCGk.png');
  let texture1 = loader.load('https://i.imgur.com/niaaCxS.png');
  let texture2 = loader.load('https://i.imgur.com/blPPWGx.png');
  let texture3 = loader.load('https://i.imgur.com/niaaCxS.png');
  let texture4 = loader.load('https://i.imgur.com/5m43LF4.png');
  let texture5 = loader.load('https://i.imgur.com/YVbGSU6.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildarm3() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/xvNhyQp.png');
  let texture2 = loader.load('https://i.imgur.com/kSu9Zb7.png');
  let texture3 = loader.load('https://i.imgur.com/zDr6SGt.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }));
  return new THREE.Mesh(geometry, materialArray);
}



function buildarm4() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/Ctw7GJ8.png');
  let texture2 = loader.load('https://i.imgur.com/jbiC8uF.png');
  let texture3 = loader.load('https://i.imgur.com/zDr6SGt.png');
  let texture4 = loader.load('https://i.imgur.com/tcBBwtR.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildleg3() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/EkfVYYX.png');
  let texture2 = loader.load('https://i.imgur.com/UmnQd9g.png');
  let texture3 = loader.load('https://i.imgur.com/PGa2Tps.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildleg4() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/oEIUZeg.png');
  let texture2 = loader.load('https://i.imgur.com/ptEYblZ.png');
  let texture3 = loader.load('https://i.imgur.com/PGa2Tps.png');
  let texture4 = loader.load('https://i.imgur.com/LNyknhy.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture2
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}


/////////////////////////////////////////////////////////////////////////////

function builddrum(){
	box = new THREE.Group();
  var geometry = new THREE.CylinderBufferGeometry(10, 10, 13.1, 32 );
  var material = new THREE.MeshLambertMaterial( {color: 'white'} );
  drumcylinder1 = new THREE.Mesh( geometry, material );
  drumcylinder1.position.set(0,-1,-2.8*k);
  var geometry = new THREE.CylinderBufferGeometry(10.1, 10.1, 13, 32 );
  var material = new THREE.MeshLambertMaterial( {color: 'blue'} );
  drumcylinder2 = new THREE.Mesh( geometry, material );
  drumcylinder2.position.set(0,-1,-2.8*k);
  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/DvME6OT.jpg');
	var geometry = new THREE.TorusBufferGeometry( 10.1, 0.5, 32, 100 );
	var material = new THREE.MeshLambertMaterial( { map: texture } );
	drumcylinder3 = new THREE.Mesh( geometry, material );
  drumcylinder3.rotation.x=Math.PI/2;
  drumcylinder3.position.set(0,6,-2.8*k);
	drumcylinder4 = new THREE.Mesh( geometry, material );
  drumcylinder4.rotation.x=Math.PI/2;
  drumcylinder4.position.set(0,-8,-2.8*k);
	var geometry = new THREE.BoxBufferGeometry( 14, 1, 1 );
	var material = new THREE.MeshLambertMaterial( {map: texture } );
  BoxBuffer1= new THREE.Mesh( geometry, material );
  BoxBuffer1.rotation.z=Math.PI/2;
  BoxBuffer1.position.set(10,-1,-2.8*k);
  BoxBuffer2= new THREE.Mesh( geometry, material );
  BoxBuffer2.rotation.z=Math.PI/2;
  BoxBuffer2.position.set(7.5,-1,-4.1*k);
  BoxBuffer3= new THREE.Mesh( geometry, material );
  BoxBuffer3.rotation.z=Math.PI/2;
  BoxBuffer3.position.set(0,-1,-4.8*k);
  BoxBuffer4= new THREE.Mesh( geometry, material );
  BoxBuffer4.rotation.z=Math.PI/2;
  BoxBuffer4.position.set(-7.5,-1,-4.1*k);
  BoxBuffer5= new THREE.Mesh( geometry, material );
  BoxBuffer5.rotation.z=Math.PI/2;
  BoxBuffer5.position.set(-10,-1,-2.8*k);
  BoxBuffer6= new THREE.Mesh( geometry, material );
  BoxBuffer6.rotation.z=Math.PI/2;
  BoxBuffer6.position.set(-7.5,-1,-1.5*k);
  BoxBuffer7= new THREE.Mesh( geometry, material );
  BoxBuffer7.rotation.z=Math.PI/2;
  BoxBuffer7.position.set(0,-1,-0.8*k);
  BoxBuffer8= new THREE.Mesh( geometry, material );
  BoxBuffer8.rotation.z=Math.PI/2;
  BoxBuffer8.position.set(7.5,-1,-1.5*k);
  var material = new THREE.MeshLambertMaterial( { color: 'white',side:THREE.DoubleSide } );
  line1 = new THREE.Mesh (new THREE.BoxGeometry(25, 1,1), material); 
  line1.position.set(-1.6*k,12,-1.2*k);
  line1.rotation.set(0,-Math.PI/2.6,Math.PI/4);
  line2 = new THREE.Mesh (new THREE.BoxGeometry(25, 1, 1), material); 
  line2.position.set(1.6*k,12,-1.2*k);
  line2.rotation.set(0,Math.PI/2.6,-Math.PI/4);
  var material = new THREE.MeshLambertMaterial( { color: 'white',side:THREE.DoubleSide } );
  line3 = new THREE.Mesh (new THREE.BoxGeometry(14, 1, 1), material); 
  line3.position.set(0,17,1);
  line3.rotation.y=Math.PI;
  box.add(drumcylinder1,drumcylinder2,drumcylinder3,drumcylinder4,BoxBuffer1,BoxBuffer2,BoxBuffer3,BoxBuffer4,BoxBuffer5,BoxBuffer6,BoxBuffer7,BoxBuffer8,line1,line2,line3);
  /*cylinder1.castShadow = true;
  cylinder1.receiveShadow = true;
  cylinder2.castShadow = true;
  cylinder2.receiveShadow = true;
  cylinder3.castShadow = true;
  cylinder3.receiveShadow = true;
  cylinder4.castShadow = true;
  cylinder4.receiveShadow = true;
  BoxBuffer1.castShadow = true;
  BoxBuffer1.receiveShadow = true;
  BoxBuffer2.castShadow = true;
  BoxBuffer2.receiveShadow = true;
  BoxBuffer3.castShadow = true;
  BoxBuffer3.receiveShadow = true;
  BoxBuffer4.castShadow = true;
  BoxBuffer4.receiveShadow = true;
  BoxBuffer5.castShadow = true;
  BoxBuffer5.receiveShadow = true;
  BoxBuffer6.castShadow = true;
  BoxBuffer6.receiveShadow = true;
  BoxBuffer7.castShadow = true;
  BoxBuffer7.receiveShadow = true;
  BoxBuffer8.castShadow = true;
  BoxBuffer8.receiveShadow = true;
  line1.castShadow = true;
  line1.receiveShadow = true;
  line2.castShadow = true;
  line2.receiveShadow = true;
  line3.castShadow = true;
  line3.receiveShadow = true;*/
  return box;
  }

function builddrumMan(){
  man3 = new THREE.Group();
	//GroupA.add(mine);
	head3 = makeHead3();
	torso3 = makeTorso3();
  durm=builddrum();
	man3.add(torso3);
	head3.position.y = 7.57*k-4.09*k;
	torso3.position.y = 4.09*k;
	torso3.add(head3,durm);

	leftarm3 = makeArm3();
	leftarm3[0].position.set (-1.88*k, 7.57*k-4.09*k, 0);
	leftarm3[0].add(leftarm3[1]);
	torso3.add (leftarm3[0]);
	rightarm3 = makeArm3();
	rightarm3[0].position.set (1.88*k, 7.57*k-4.09*k, 0);
	rightarm3[0].add(rightarm3[1]);
	torso3.add(rightarm3[0]);


	leftleg3 = makeLeg3();
	leftleg3[0].position.set  (-0.63*k, 4.09*k-4.09*k, 0);
	leftleg3[0].add(leftleg3[1]);
	torso3.add(leftleg3[0]);


	rightleg3 = makeLeg3();
	rightleg3[0].position.set (0.63*k, 4.09*k-4.09*k, 0);
	rightleg3[0].add(rightleg3[1]);
	torso3.add(rightleg3[0]);

	man3.rotation.y=-Math.PI/2;	
	man3.position.y=0.01;
	leftarm3[0].rotation.z = -Math.PI/2;
	rightarm3[0].rotation.z = -Math.PI/2;
	leftleg3[0].rotation.z = -Math.PI/2;
	rightleg3[0].rotation.z = -Math.PI/2;
	
	leftarm3[0].rotation.order = 'ZYX';
	rightarm3[0].rotation.order = 'ZYX';
	leftleg3[0].rotation.order = 'ZYX';
	rightleg3[0].rotation.order = 'ZYX';
  man3.rotation.order = 'ZYX';
  return [man3,head3,torso3,leftarm3[0],leftarm3[1],rightarm3[0],rightarm3[1],leftleg3[0],leftleg3[1],rightleg3[0],rightleg3[1]];
}

function makeArm3() {
	var group = new THREE.Group();
 	var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:'white',side:THREE.DoubleSide } );
  body = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material); 
  var material = new THREE.MeshBasicMaterial( { color:'white'} );
  body2 = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material);
  var geometry = new THREE.CylinderBufferGeometry(1, 0.5, 10, 32 );
  var material = new THREE.MeshLambertMaterial( {color: 0xcc7818} );
  stick= new THREE.Mesh( geometry, material );
  var geometry = new THREE.DodecahedronBufferGeometry(1,5 );
  var material = new THREE.MeshLambertMaterial( {color: 0xcc7818} );
  ball= new THREE.Mesh( geometry, material );
  body3=buildarm5();
  body3.rotation.z=Math.PI/2;
  body3.position.x = 1.92*k;
  body6=buildarm6();
  body6.rotation.z=Math.PI/2;
  body6.position.x = 1.92*k;
  stick.position.set(2*k,0,-5);
  stick.rotation.x=Math.PI/2;
  ball.position.set(2*k,0,-10);
  group2.add(body2,stick,body6,ball,stick);
  group.add (body,group2,body3);
  body.position.x = 1.91*k/2;
  body2.position.x = 1.91*k/2;
  group2.position.x =2*k;
  
  /*body.castShadow = true;
  body.receiveShadow = true;
  body2.castShadow = true;
  body2.receiveShadow = true;
  stick.castShadow = true;
  stick.receiveShadow = true;
  ball.castShadow = true;
  ball.receiveShadow = true;*/
  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2,stick];
}

function makeLeg3() {
	var group = new THREE.Group();
  var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  body4 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k,  1.26*k, 1.26*k), material);
  body5 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k, 1.26*k, 1.26*k), material);
  body7=buildleg5();
  body7.rotation.z=Math.PI/2;
  body7.position.x = 2.046*k;
  body8=buildleg6();
  body8.rotation.z=Math.PI/2;
  body8.position.x = 2.046*k;
  group2.add(body5,body8);
	group.add (body4,group2,body7);
  body4.position.x = 2.045*k/2;
  body5.position.x =2.045*k/2;
  group2.position.x =2.045*k;
  
  /*body4.castShadow = true;
  body4.receiveShadow = true;
  body5.castShadow = true;
  body5.receiveShadow = true;*/
  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2];
}

function makeHead3() {
	var headGroup = new THREE.Group();
  var mat = new THREE.MeshBasicMaterial({color:0x99d8ea});
  headBody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 2.52*k, 2.52*k), mat);
  headBody2=buildface3();
  headBody2.rotation.y=Math.PI;
	headGroup.add (headBody,headBody2);
  headBody.position.y = 2.53*k/2;
  
  /*headBody.castShadow = true;
  headBody.receiveShadow = true;*/
  //headGroup.add (new THREE.AxesHelper (k));
	return headGroup;
}
function makeTorso3 () {
	var group = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  Torsobody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 3.48*k, 1.26*k), material);
  Torsobody2=buildTorso3();
  Torsobody2.rotation.y=Math.PI;
	group.add (Torsobody,Torsobody2);
  Torsobody.position.y = 3.48*k/2;
  
  /*Torsobody.castShadow = true;
  Torsobody.receiveShadow = true;*/
	//group.add (new THREE.AxesHelper (2*k));
return group;

}
function keyframe3(t) {
  var s = ((t - ts) % T) / T;

  for (var i = 1; i < keys3.length; i++) {
    if (keys3[i][0] > s) break;
  }
  // take i-1
  var ii = i - 1;
  var a = (s - keys3[ii][0]) / (keys3[ii + 1][0] - keys3[ii][0]);
  intKey3= [keys3[ii][1].theta1 * (1 - a) + keys3[ii + 1][1].theta1 * a,
            keys3[ii][1].theta2 * (1 - a) + keys3[ii + 1][1].theta2 * a,
            keys3[ii][1].theta3 * (1 - a) + keys3[ii + 1][1].theta3 * a,
            keys3[ii][1].theta4 * (1 - a) + keys3[ii + 1][1].theta4 * a,
            keys3[ii][1].theta5 * (1 - a) + keys3[ii + 1][1].theta5 * a,
            keys3[ii][1].theta6 * (1 - a) + keys3[ii + 1][1].theta6 * a,
            keys3[ii][1].theta7 * (1 - a) + keys3[ii + 1][1].theta7 * a,
            keys3[ii][1].theta8 * (1 - a) + keys3[ii + 1][1].theta8 * a,
            keys3[ii][1].theta9 * (1 - a) + keys3[ii + 1][1].theta9 * a,
            keys3[ii][1].theta10 * (1 - a) + keys3[ii + 1][1].theta10 * a,
            keys3[ii][1].theta11 * (1 - a) + keys3[ii + 1][1].theta11 * a,
            keys3[ii][1].theta12 * (1 - a) + keys3[ii + 1][1].theta12 * a,
            keys3[ii][1].theta13 * (1 - a) + keys3[ii + 1][1].theta13 * a,
            keys3[ii][1].theta14 * (1 - a) + keys3[ii + 1][1].theta14 * a
  ];

}


function buildface3() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, -2.53*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/BtDPcbh.png');
  let texture1 = loader.load('https://i.imgur.com/cv3TzQd.png');
  let texture2 = loader.load('https://i.imgur.com/36aiY95.png');
  let texture3 = loader.load('https://i.imgur.com/2JYosHM.png');
  let texture4 = loader.load('https://i.imgur.com/Stcqc6K.png');
  let texture5 = loader.load('https://i.imgur.com/lEoB8O9.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildTorso3() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/7GxmdYZ.png');
  let texture1 = loader.load('https://i.imgur.com/3548Oz2.png');
  let texture2 = loader.load('https://i.imgur.com/5cyRP5O.png');
  let texture3 = loader.load('https://i.imgur.com/3548Oz2.png');
  let texture4 = loader.load('https://i.imgur.com/YEDHshi.png');
  let texture5 = loader.load('https://i.imgur.com/OJT2Wlv.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildarm5() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/GPHs90v.png');
  let texture2 = loader.load('https://i.imgur.com/eYjYbnV.png');
  let texture3 = loader.load('https://i.imgur.com/T6zYdS1.png');
  let texture4 = loader.load('https://i.imgur.com/OYNbb4h.png');
  let texture5 = loader.load('https://i.imgur.com/I1eCs2C.png');
  let texture6 = loader.load('https://i.imgur.com/9rOUw6w.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }),
    new THREE.MeshBasicMaterial({
      map: texture6
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildarm6() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/vq4I74T.png');
  let texture2 = loader.load('https://i.imgur.com/9rOUw6w.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildleg5() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/BzmQIN9.png');
  let texture2 = loader.load('https://i.imgur.com/9rOUw6w.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildleg6() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/OZq5os9.png');
  let texture2 = loader.load('https://i.imgur.com/g4TAAOG.png');
  let texture3 = loader.load('https://i.imgur.com/9rOUw6w.png');
  let texture4 = loader.load('https://i.imgur.com/I1eCs2C.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture2
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}
///////////////////////////////////////////////////////////////////////////////////////////
function buildpiano(){
	piano = new THREE.Group();
  var loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  texture = loader.load('https://i.imgur.com/DF8wSLs.jpg');
  texture5 = loader.load('https://i.imgur.com/6LDllKV.jpg');
	var geometry = new THREE.BoxBufferGeometry( 45,45, 5 );
	var material = new THREE.MeshPhongMaterial({map: texture5});
	table = new THREE.Mesh( geometry, material );
	table.rotation.x=Math.PI/2;
  table.position.set(0,0,10);
	var geometry = new THREE.BoxBufferGeometry( 5,5, 20 );
	var material = new THREE.MeshPhongMaterial({map: texture});
	tableleg = new THREE.Mesh( geometry, material );
	tableleg.rotation.x=Math.PI/2;
  tableleg.position.set(-18,-10,28);
  tableleg2 = new THREE.Mesh( geometry, material );
	tableleg2.rotation.x=Math.PI/2;
  tableleg2.position.set(18,-10,28);
  tableleg3 = new THREE.Mesh( geometry, material );
	tableleg3.rotation.x=Math.PI/2;
  tableleg3.position.set(-18,-10,-8);
 	tableleg4 = new THREE.Mesh( geometry, material );
	tableleg4.rotation.x=Math.PI/2;
  tableleg4.position.set(18,-10,-8);
  loader.crossOrigin = '';
  texture3 = loader.load('https://i.imgur.com/GsnzBly.jpg');
  var geometry = new THREE.BoxBufferGeometry( 39,4, 2.5 );
	var material = new THREE.MeshPhongMaterial({map: texture3});
  table2= new THREE.Group();
	table2 = new THREE.Mesh( geometry, material );
  table2.rotation.y=Math.PI/12;
  table2.position.set(0,4.2,15);
  var geometry = new THREE.CylinderBufferGeometry( 39, 39, 4, 3,1,false,0,0.3 );
	var material = new THREE.MeshPhongMaterial( {map: texture3,side:THREE.DoubleSide} );
	table3 = new THREE.Mesh( geometry, material );
	table3.position.set(-19,4.21,20);
  table3.rotation.y=Math.PI/2;
  var geometry = new THREE.BoxBufferGeometry( 40,4, 11.5 );
	var material = new THREE.MeshPhongMaterial({map: texture3});
	table4 = new THREE.Mesh( geometry, material );
  table4.position.set(0,4.2,24.5);
  loader.crossOrigin = '';
  texture4 = loader.load('https://i.imgur.com/6LDllKV.jpg');
  var geometry = new THREE.BoxBufferGeometry( 40.1,4, 11.9 );
	var material = new THREE.MeshPhongMaterial({map: texture4});
	table5 = new THREE.Mesh( geometry, material );
 	table5.position.set(0,4.5,25);

  
  loader.crossOrigin = '';
  Pianokey = new THREE.Group();
  Pianokey2 = new THREE.Group();
  Pianokey3 = new THREE.Group();
  Pianokey4 = new THREE.Group();
  Pianokey5 = new THREE.Group();
  Pianokey6 = new THREE.Group();
  Pianokey7 = new THREE.Group();
  Pianokey8 = new THREE.Group();
  Pianokey9 = new THREE.Group();
  Pianokey10 = new THREE.Group();
  Pianokey11 = new THREE.Group();
  var geometry = new THREE.BoxBufferGeometry( 3,22, 1 );
	var material = new THREE.MeshPhongMaterial({map: texture3});
	Pianokeys = new THREE.Mesh( geometry, material );
  Pianokeys.rotation.x=Math.PI/2;
  Pianokeys.position.set(0,0,-9.8);
  var geometry = new THREE.BoxBufferGeometry( 3,21, 1 );
 	Pianokeys2 = new THREE.Mesh( geometry, material );
	Pianokeys2.rotation.x=Math.PI/2;
  Pianokeys2.position.set(0,0,-9.4);
  var geometry = new THREE.BoxBufferGeometry( 3,20, 1 );
  Pianokeys3 = new THREE.Mesh( geometry, material );
	Pianokeys3.rotation.x=Math.PI/2;
  Pianokeys3.position.set(0,0,-9);
  var geometry = new THREE.BoxBufferGeometry( 3,19, 1 );
 	Pianokeys4 = new THREE.Mesh( geometry, material );
	Pianokeys4.rotation.x=Math.PI/2;
  Pianokeys4.position.set(0,0,-8.6);
  var geometry = new THREE.BoxBufferGeometry( 3,18, 1 );
 	Pianokeys5 = new THREE.Mesh( geometry, material );
	Pianokeys5.rotation.x=Math.PI/2;
  Pianokeys5.position.set(0,0,-8.2); 
  var geometry = new THREE.BoxBufferGeometry( 3,17, 1 );
  Pianokeys6 = new THREE.Mesh( geometry, material );
	Pianokeys6.rotation.x=Math.PI/2;
  Pianokeys6.position.set(0,0,-7.8);
  var geometry = new THREE.BoxBufferGeometry( 3,16, 1 );
  Pianokeys7 = new THREE.Mesh( geometry, material );
	Pianokeys7.rotation.x=Math.PI/2;
  Pianokeys7.position.set(0,0,-7.4);
  var geometry = new THREE.BoxBufferGeometry( 3,15, 1 );
 	Pianokeys8 = new THREE.Mesh( geometry, material );
	Pianokeys8.rotation.x=Math.PI/2;
  Pianokeys8.position.set(0,0,-7);
  var geometry = new THREE.BoxBufferGeometry( 3,14, 1 );
  Pianokeys9 = new THREE.Mesh( geometry, material );
	Pianokeys9.rotation.x=Math.PI/2;
  Pianokeys9.position.set(0,0,-6.6);
  var geometry = new THREE.BoxBufferGeometry( 3,13, 1 );
  Pianokeys10 = new THREE.Mesh( geometry, material );
	Pianokeys10.rotation.x=Math.PI/2;
  Pianokeys10.position.set(0,0,-6.2);
  var geometry = new THREE.BoxBufferGeometry( 3,12, 1 );
	var material = new THREE.MeshPhongMaterial({map: texture3});
  Pianokeys11 = new THREE.Mesh( geometry, material );
	Pianokeys11.rotation.x=Math.PI/2;
  Pianokeys11.position.set(0,0,-5.8);
  Pianokey.add(Pianokeys);
  Pianokey.position.set(-17.5,0.8,0);
  Pianokey.rotation.y=-Math.PI/12;
	Pianokey2.add(Pianokeys2);
  Pianokey2.position.set(-14,0.8,0);
  Pianokey2.rotation.y=-Math.PI/12;
  Pianokey3.add(Pianokeys3);
  Pianokey3.position.set(-10.5,0.8,0);
  Pianokey3.rotation.y=-Math.PI/12;
  Pianokey4.add(Pianokeys4);
  Pianokey4.position.set(-7,0.8,0);
  Pianokey4.rotation.y=-Math.PI/12;
  Pianokey5.add(Pianokeys5);
  Pianokey5.position.set(-3.5,0.8,0);
  Pianokey5.rotation.y=-Math.PI/12;
  Pianokey6.add(Pianokeys6);
  Pianokey6.position.set(0,0.5,0);
  Pianokey6.rotation.y=-Math.PI/12;
  Pianokey7.add(Pianokeys7);
  Pianokey7.position.set(3.5,0.5,0);
  Pianokey7.rotation.y=-Math.PI/12;
  Pianokey8.add(Pianokeys8);
  Pianokey8.position.set(7,0.8,0);
  Pianokey8.rotation.y=-Math.PI/12;
  Pianokey9.add(Pianokeys9);
  Pianokey9.position.set(10.5,0.8,0);
  Pianokey9.rotation.y=-Math.PI/12;
  Pianokey10.add(Pianokeys10);
  Pianokey10.position.set(14,0.8,0);
  Pianokey10.rotation.y=-Math.PI/12;
  Pianokey11.add(Pianokeys11);
  Pianokey11.position.set(17.5,0.8,0);
  Pianokey11.rotation.y=-Math.PI/12;
  table2.add(Pianokey,Pianokey2,Pianokey3,Pianokey4,Pianokey5,Pianokey6,Pianokey7,Pianokey8,Pianokey9,Pianokey10,Pianokey11);
  var geometry = new THREE.CircleBufferGeometry( 6, 32,3.14,3.14 );
	var material = new THREE.MeshPhongMaterial( {map: texture5,side:THREE.DoubleSide } );
	circle = new THREE.Mesh( geometry, material );
  circle.rotation.set(Math.PI,Math.PI/2,0);
	circle.position.set(20.1,2,-4);
	circle2 = new THREE.Mesh( geometry, material );
  circle2.rotation.set(Math.PI,Math.PI/2,0);
	circle2.position.set(-20.1,2,-4);
  texture2 = loader.load('https://i.imgur.com/DF8wSLs.jpg');
  var geometry = new THREE.CylinderGeometry( 3, 3, 40, 32 );
	var material = new THREE.MeshPhongMaterial( {map: texture2 } );
  Pianocylinder= new THREE.Group();
	Pianocylinder = new THREE.Mesh( geometry, material );
  Pianocylinder.position.set(0,5,-4);
  Pianocylinder.rotation.z=Math.PI/2;

  var geometry = new THREE.CylinderGeometry( 2, 2, 1, 32 );
	var material = new THREE.MeshPhongMaterial( {map: texture2 } );
	Pianocylinder2 = new THREE.Mesh( geometry, material );
  Pianocylinder2.position.set(20,5,-4);
  Pianocylinder2.rotation.z=Math.PI/2;
  var geometry = new THREE.CylinderGeometry( 2, 2, 1, 32 );
	var material = new THREE.MeshPhongMaterial( {map: texture2 } );
	Pianocylinder3 = new THREE.Mesh( geometry, material );
  Pianocylinder3.position.set(-20,5,-4);
  Pianocylinder3.rotation.z=Math.PI/2;
  loader.crossOrigin = '';
  texture4 = loader.load('https://i.imgur.com/0mWoA40.jpg');
  var geometry = new THREE.BoxBufferGeometry( 4,2, 2 );
	var material = new THREE.MeshPhongMaterial({map: texture4});
  Pianohead2= new THREE.Group();
	Pianohead2 = new THREE.Mesh( geometry, material );
  Pianohead2.position.set(-21,5,-4);
  var geometry = new THREE.BoxBufferGeometry( 6,2, 2 );
	var material = new THREE.MeshPhongMaterial({map: texture4});
	Pianohead3 = new THREE.Mesh( geometry, material );
  Pianohead3.rotation.y=Math.PI/2;
  Pianohead3.position.set(-2.5,0,2);
  var geometry = new THREE.BoxBufferGeometry( 4,2, 2 );
	var material = new THREE.MeshPhongMaterial({map: texture4});
	Pianohead4 = new THREE.Mesh( geometry, material );
  Pianohead4.position.set(-5.5,0,4);
  Pianohead2.add(Pianohead3,Pianohead4);
  var geometry = new THREE.SphereGeometry( 0.25, 32, 32 );
	var material = new THREE.MeshPhongMaterial( {color: texture2} );
	sphere = new THREE.Mesh( geometry, material );
  sphere.position.set(0,6.8,3);
	sphere2 = new THREE.Mesh( geometry, material );
  sphere2.position.set(-0.3,17,2.95);
 	sphere3 = new THREE.Mesh( geometry, material );
  sphere3.position.set(-0.6,6.8,2.87);
  sphere4 = new THREE.Mesh( geometry, material );
  sphere4.position.set(-0.9,0,2.78);
	sphere5 = new THREE.Mesh( geometry, material );
  sphere5.position.set(-1.2,6.8,2.7);
 	sphere6 = new THREE.Mesh( geometry, material );
  sphere6.position.set(-1.5,0,2.6);
  sphere7 = new THREE.Mesh( geometry, material );
  sphere7.position.set(-1.8,-6.8,2.45);
 	sphere8 = new THREE.Mesh( geometry, material );
  sphere8.position.set(-2,6.8,2.3);
  
  sphere9 = new THREE.Mesh( geometry, material );
  sphere9.position.set(-2.1,-17,2.1);
  sphere10 = new THREE.Mesh( geometry, material );
  sphere10.position.set(-2.3,-13.6,1.8);
  sphere11 = new THREE.Mesh( geometry, material );
  sphere11.position.set(-2.45,-10.2,1.5);
	sphere12 = new THREE.Mesh( geometry, material );
  sphere12.position.set(-2.6,-6.8,1.2);
 	sphere13 = new THREE.Mesh( geometry, material );
  sphere13.position.set(-2.95,-6.8,0.3);
  
  sphere14 = new THREE.Mesh( geometry, material );
  sphere14.position.set(-3,-6.8,0);
  sphere15 = new THREE.Mesh( geometry, material );
  sphere15.position.set(-2.95,-3.4,-0.3);
  sphere16 = new THREE.Mesh( geometry, material );
  sphere16.position.set(-2.87,3.4,-0.6);
  sphere17 = new THREE.Mesh( geometry, material );
  sphere17.position.set(-2.78,10.2,-0.9);
  sphere18 = new THREE.Mesh( geometry, material );
  sphere18.position.set(-2.7,17,-1.2);
  sphere19 = new THREE.Mesh( geometry, material );
  sphere19.position.set(-2.6,10.2,-1.5);
  sphere20 = new THREE.Mesh( geometry, material );
  sphere20.position.set(-2.45,3.4,-1.8);
  sphere21 = new THREE.Mesh( geometry, material );
  sphere21.position.set(-2.3,-3.4,-2);
  
  sphere22 = new THREE.Mesh( geometry, material );
  sphere22.position.set(-2.1,0,-2.1);
  sphere23 = new THREE.Mesh( geometry, material );
  sphere23.position.set(-2,6.8,-2.3);
  sphere24 = new THREE.Mesh( geometry, material );
  sphere24.position.set(-1.8,-10.2,-2.45);
  sphere25 = new THREE.Mesh( geometry, material );
  sphere25.position.set(-1.5,-6.8,-2.6);
  sphere26 = new THREE.Mesh( geometry, material );
  sphere26.position.set(0.3,6.8,-2.95);
  
  sphere27 = new THREE.Mesh( geometry, material );
  sphere27.position.set(0,6.8,-3);
  sphere28 = new THREE.Mesh( geometry, material );
  sphere28.position.set(0.3,17,-2.95);
  sphere29 = new THREE.Mesh( geometry, material );
  sphere29.position.set(0.6,6.8,-2.87);
  sphere30 = new THREE.Mesh( geometry, material );
  sphere30.position.set(0.9,0,-2.78);
  sphere31 = new THREE.Mesh( geometry, material );
  sphere31.position.set(1.2,6.8,-2.7);
  sphere32 = new THREE.Mesh( geometry, material );
  sphere32.position.set(1.5,0,-2.6);
  sphere33 = new THREE.Mesh( geometry, material );
  sphere33.position.set(1.8,-6.8,-2.45); 
  sphere34 = new THREE.Mesh( geometry, material );
  sphere34.position.set(2,6.8,-2.3);
  
  sphere35 = new THREE.Mesh( geometry, material );
  sphere35.position.set(2.1,-17,-2.1);
  sphere36 = new THREE.Mesh( geometry, material );
  sphere36.position.set(2.3,-13.6,-1.8);
  sphere37 = new THREE.Mesh( geometry, material );
  sphere37.position.set(2.45,-10.2,-1.5);
	sphere38 = new THREE.Mesh( geometry, material );
  sphere38.position.set(2.6,-6.8,-1.2);
 	sphere39 = new THREE.Mesh( geometry, material );
  sphere39.position.set(2.95,6.8,-0.3);
  
  sphere40 = new THREE.Mesh( geometry, material );
  sphere40.position.set(3,-6.8,0);
  sphere41 = new THREE.Mesh( geometry, material );
  sphere41.position.set(2.95,-3.4,0.3);
  sphere42 = new THREE.Mesh( geometry, material );
  sphere42.position.set(2.87,3.4,0.6);
  sphere43 = new THREE.Mesh( geometry, material );
  sphere43.position.set(2.78,10.2,0.9);
  sphere44 = new THREE.Mesh( geometry, material );
  sphere44.position.set(2.7,17,1.2);
  sphere45 = new THREE.Mesh( geometry, material );
  sphere45.position.set(2.6,10.2,1.5);
  sphere46 = new THREE.Mesh( geometry, material );
  sphere46.position.set(2.45,3.4,1.8);
  sphere47 = new THREE.Mesh( geometry, material );
  sphere47.position.set(2.3,10.2,2);
  
  sphere48 = new THREE.Mesh( geometry, material );
  sphere48.position.set(2.1,6.8,2.1);
  sphere49 = new THREE.Mesh( geometry, material );
  sphere49.position.set(2,17,2.3);
  sphere50 = new THREE.Mesh( geometry, material );
  sphere50.position.set(1.8,0,2.45);
  sphere51 = new THREE.Mesh( geometry, material );
  sphere51.position.set(1.5,6.8,2.6);
  sphere52 = new THREE.Mesh( geometry, material );
  sphere52.position.set(-0.3,6.8,2.95);
  
	Pianocylinder.add(sphere,sphere2,sphere3,sphere4,sphere5,sphere6,sphere7,sphere8,sphere9,sphere10,sphere11,sphere12,sphere13,sphere14,sphere15,sphere16,sphere17,sphere18,sphere19,sphere20,sphere21,sphere22,sphere23,sphere24,sphere25,sphere26,sphere27,sphere28,sphere29,sphere30,sphere31,sphere32,sphere33,sphere34,sphere35,sphere36,sphere37,sphere38,sphere39,sphere40,sphere41,sphere42,sphere43,sphere44,sphere45,sphere46,sphere47,sphere48,sphere49,sphere50,sphere51,sphere52);
  piano.add(table,tableleg,tableleg2,tableleg3,tableleg4,table2,table3,table4,table5,circle,circle2,Pianocylinder,Pianocylinder2,Pianocylinder3,Pianohead2);
    return piano;
  }
function buildpianoMan(){
  man4 = new THREE.Group();
	//GroupA.add(mine);
	head4 = makeHead4();
	torso4 = makeTorso4();
	man4.add(torso4);
	head4.position.y = 7.57*k-4.09*k;
	torso4.position.y = 4.09*k;
	torso4.add(head4);

	leftarm4 = makeArm4();
	leftarm4[0].position.set (-1.88*k, 7.57*k-4.09*k, 0);
	leftarm4[0].add(leftarm4[1]);
	torso4.add (leftarm4[0]);
	rightarm4 = makeArm4();
	rightarm4[0].position.set (1.88*k, 7.57*k-4.09*k, 0);
	rightarm4[0].add(rightarm4[1]);
	torso4.add(rightarm4[0]);


	leftleg4 = makeLeg4();
	leftleg4[0].position.set  (-0.63*k, 4.09*k-4.09*k, 0);
	leftleg4[0].add(leftleg4[1]);
	torso4.add(leftleg4[0]);


	rightleg4 = makeLeg4();
	rightleg4[0].position.set (0.63*k, 4.09*k-4.09*k, 0);
	rightleg4[0].add(rightleg4[1]);
	torso4.add(rightleg4[0]);

	man4.rotation.y=-Math.PI/2;	
	man4.position.y=0.01;
	leftarm4[0].rotation.z = -Math.PI/2;
	rightarm4[0].rotation.z = -Math.PI/2;
	leftleg4[0].rotation.z = -Math.PI/2;
	rightleg4[0].rotation.z = -Math.PI/2;
	
	leftarm4[0].rotation.order = 'ZYX';
	rightarm4[0].rotation.order = 'ZYX';
	leftleg4[0].rotation.order = 'ZYX';
	rightleg4[0].rotation.order = 'ZYX';
  man4.rotation.order = 'ZYX';
  return [man4,head4,torso4,leftarm4[0],leftarm4[1],rightarm4[0],rightarm4[1],leftleg4[0],leftleg4[1],rightleg4[0],rightleg4[1]];
}
function makeArm4() {
	var group = new THREE.Group();
 	var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:'white',side:THREE.DoubleSide } );
  body = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material); 
  var material = new THREE.MeshBasicMaterial( { color:'white'} );
  body2 = new THREE.Mesh (new THREE.BoxGeometry(1.91*k, 1.24*k, 1.24*k), material);
  body3=buildarm7();
  body3.rotation.z=Math.PI/2;
  body3.position.x = 1.92*k;
  body6=buildarm8();
  body6.rotation.z=Math.PI/2;
  body6.position.x = 1.92*k;
  group2.add(body2,body6);
  group.add (body,group2,body3);
  body.position.x = 1.91*k/2;
  body2.position.x = 1.91*k/2;
  group2.position.x =2*k;
  

  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2,stick];
}

function makeLeg4() {
	var group = new THREE.Group();
  var group2 = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  body4 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k,  1.26*k, 1.26*k), material);
  body5 = new THREE.Mesh (new THREE.BoxGeometry(2.045*k, 1.26*k, 1.26*k), material);
  body7=buildleg7();
  body7.rotation.z=Math.PI/2;
  body7.position.x = 2.046*k;
  body8=buildleg8();
  body8.rotation.z=Math.PI/2;
  body8.position.x = 2.046*k;
  group2.add(body5,body8);
	group.add (body4,group2,body7);
  body4.position.x = 2.045*k/2;
  body5.position.x =2.045*k/2;
  group2.position.x =2.045*k;
  

  //group.add (new THREE.AxesHelper (k));
  //group2.add (new THREE.AxesHelper (k));
	return [group,group2];
}

function makeHead4() {
	var headGroup = new THREE.Group();
  var mat = new THREE.MeshBasicMaterial({color:0x99d8ea});
  headBody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 2.52*k, 2.52*k), mat);
  headBody2=buildface4();
  headBody2.rotation.y=Math.PI;
	headGroup.add (headBody,headBody2);
  headBody.position.y = 2.52*k/2;
  

  //headGroup.add (new THREE.AxesHelper (k));
	return headGroup;
}
function makeTorso4 () {
	var group = new THREE.Group();
  var material = new THREE.MeshBasicMaterial( { color:0xd0d0c,side:THREE.DoubleSide } );
  Torsobody = new THREE.Mesh (new THREE.BoxGeometry(2.52*k, 3.48*k, 1.26*k), material);
  Torsobody2=buildTorso4();
  Torsobody2.rotation.y=Math.PI;
	group.add (Torsobody,Torsobody2);
  Torsobody.position.y = 3.48*k/2;

	//group.add (new THREE.AxesHelper (2*k));
return group;

}
function keyframe4(t) {
  var s = ((t - ts) % T2) / T2;

  for (var i = 1; i < keys4.length; i++) {
    if (keys4[i][0] > s) break;
  }
  // take i-1
  var ii = i - 1;
  var a = (s - keys4[ii][0]) / (keys4[ii + 1][0] - keys4[ii][0]);
  intKey4 = [keys4[ii][1].theta1 * (1 - a) + keys4[ii + 1][1].theta1 * a,
            keys4[ii][1].theta2 * (1 - a) + keys4[ii + 1][1].theta2 * a,
            keys4[ii][1].theta3 * (1 - a) + keys4[ii + 1][1].theta3 * a,
            keys4[ii][1].theta4 * (1 - a) + keys4[ii + 1][1].theta4 * a,
            keys4[ii][1].theta5 * (1 - a) + keys4[ii + 1][1].theta5 * a,
            keys4[ii][1].theta6 * (1 - a) + keys4[ii + 1][1].theta6 * a,
            keys4[ii][1].theta7 * (1 - a) + keys4[ii + 1][1].theta7 * a,
            keys4[ii][1].theta8 * (1 - a) + keys4[ii + 1][1].theta8 * a,
            keys4[ii][1].theta9 * (1 - a) + keys4[ii + 1][1].theta9 * a,
            keys4[ii][1].theta10 * (1 - a) + keys4[ii + 1][1].theta10 * a,
            keys4[ii][1].theta11 * (1 - a) + keys4[ii + 1][1].theta11 * a,
            keys4[ii][1].theta12 * (1 - a) + keys4[ii + 1][1].theta12 * a
  ];

}
function keyframe5(t) {
  var s = ((t - ts) % T) / T;

  for (var i = 1; i < keys5.length; i++) {
    if (keys5[i][0] > s) break;
  }
  // take i-1
  var ii = i - 1;
  var a = (s - keys5[ii][0]) / (keys5[ii + 1][0] - keys5[ii][0]);
  intKey5 = [keys5[ii][1].theta1 * (1 - a) + keys5[ii + 1][1].theta1 * a,
            keys5[ii][1].theta2 * (1 - a) + keys5[ii + 1][1].theta2 * a,
            keys5[ii][1].theta3 * (1 - a) + keys5[ii + 1][1].theta3 * a,
            keys5[ii][1].theta4 * (1 - a) + keys5[ii + 1][1].theta4 * a,
            keys5[ii][1].theta5 * (1 - a) + keys5[ii + 1][1].theta5 * a,
            keys5[ii][1].theta6 * (1 - a) + keys5[ii + 1][1].theta6 * a,
            keys5[ii][1].theta7 * (1 - a) + keys5[ii + 1][1].theta7 * a,
            keys5[ii][1].theta8 * (1 - a) + keys5[ii + 1][1].theta8 * a,
            keys5[ii][1].theta9 * (1 - a) + keys5[ii + 1][1].theta9 * a,
            keys5[ii][1].theta10 * (1 - a) + keys5[ii + 1][1].theta10 * a
  ];

}
function buildface4() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, 2.53*k/2),
    new THREE.Vector3(2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(2.53*k/2, 2.53*k, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -2.53*k/2),
    new THREE.Vector3(-2.53*k/2, 2.53*k, -2.53*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/uVxiQjz.png');
  let texture1 = loader.load('https://i.imgur.com/kRM08kR.png');
  let texture2 = loader.load('https://i.imgur.com/YcnUc4I.png');
  let texture3 = loader.load('https://i.imgur.com/M6gmbIE.png');
  let texture4 = loader.load('https://i.imgur.com/MaKqwSw.png');
  let texture5 = loader.load('https://i.imgur.com/rCD0El1.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildTorso4() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, 1.27*k/2),
    new THREE.Vector3(2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(2.53*k/2, 3.48*k, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-2.53*k/2, 3.48*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();

  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/K7NDCx9.png');
  let texture1 = loader.load('https://i.imgur.com/Kx36owY.png');
  let texture2 = loader.load('https://i.imgur.com/E4Hlz6e.png');
  let texture3 = loader.load('https://i.imgur.com/Ypg7QB0.png');
  let texture4 = loader.load('https://i.imgur.com/Fm3AKao.png');
  let texture5 = loader.load('https://i.imgur.com/RlVGtn5.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture1
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildarm7() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/wWHpWBu.png');
  let texture2 = loader.load('https://i.imgur.com/MjjHF4J.png');
  let texture3 = loader.load('https://i.imgur.com/KOPTK66.png');
  let texture4 = loader.load('https://i.imgur.com/6YyhA58.png');
  let texture5 = loader.load('https://i.imgur.com/ZDZSwkU.png');
  let texture6 = loader.load('https://i.imgur.com/pInkXB9.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture5
    }),
    new THREE.MeshBasicMaterial({
      map: texture6
    }));
  return new THREE.Mesh(geometry, materialArray);
}



function buildarm8() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, 1.25*k/2),
    new THREE.Vector3(1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(1.25*k/2, 1.93*k, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 0, -1.25*k/2),
    new THREE.Vector3(-1.25*k/2, 1.93*k, -1.25*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/PY46M0k.png');
  let texture2 = loader.load('https://i.imgur.com/Soq6hr9.png');
  let texture3 = loader.load('https://i.imgur.com/GRK8FVc.png');
  let texture4 = loader.load('https://i.imgur.com/pInkXB9.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildleg7() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/FgHtTy3.png');
  let texture2 = loader.load('https://i.imgur.com/mRYW7v6.png');
  let texture3 = loader.load('https://i.imgur.com/pInkXB9.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture
    }), 
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }));
  return new THREE.Mesh(geometry, materialArray);
}

function buildleg8() {
  let geometry = new THREE.Geometry();
  geometry.vertices.push(
    new THREE.Vector3(-1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, 1.27*k/2),
    new THREE.Vector3(1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(1.27*k/2, 2.046*k, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 0, -1.27*k/2),
    new THREE.Vector3(-1.27*k/2, 2.046*k, -1.27*k/2),
  );


  let face;
  face = new THREE.Face3(0, 1, 2);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(2, 3, 0);
  face.materialIndex = 0;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 4, 5);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 2, 1);
  face.materialIndex = 1;
  geometry.faces.push(face);
  face = new THREE.Face3(4, 6, 7);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(7, 5, 4);
  face.materialIndex = 2;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 0, 3);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 7, 6);
  face.materialIndex = 3;
  geometry.faces.push(face);
  face = new THREE.Face3(3, 2, 5);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(5, 7, 3);
  face.materialIndex = 4;
  geometry.faces.push(face);
  face = new THREE.Face3(6, 4, 1);
  face.materialIndex = 5;
  geometry.faces.push(face);
  face = new THREE.Face3(1, 0, 6);
  face.materialIndex = 5;
  geometry.faces.push(face);
  
  
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(0, 0), new THREE.Vector2(1, 0), new THREE.Vector2(1, 1)]);
  geometry.faceVertexUvs[0].push([new THREE.Vector2(1, 1), new THREE.Vector2(0, 1), new THREE.Vector2(0, 0)]);
  geometry.computeFaceNormals();
  geometry.computeVertexNormals();


  let loader = new THREE.TextureLoader();
  loader.crossOrigin = '';
  let texture = loader.load('https://i.imgur.com/yarFoC2.png');
  let texture2 = loader.load('https://i.imgur.com/eOce6wK.png');
  let texture3 = loader.load('https://i.imgur.com/pInkXB9.png');
  let texture4 = loader.load('https://i.imgur.com/CvOpHOI.png');
  materialArray = [];
  materialArray.push(new THREE.MeshBasicMaterial({
      map: texture2
    }), 
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture
    }),
    new THREE.MeshBasicMaterial({
      map: texture2
    }),
    new THREE.MeshBasicMaterial({
      map: texture3
    }),
    new THREE.MeshBasicMaterial({
      map: texture4
    }));
  return new THREE.Mesh(geometry, materialArray);
}


function buildtire() {

		var loader = new THREE.TextureLoader();
    loader.crossOrigin = '';
    var colormap = loader.load ('http://jyunming-chen.github.io/tutsplus/images/tire-side.png');
    var colormap2 = loader.load ('http://jyunming-chen.github.io/tutsplus/images/tire-wheel.jpg');
    
    var tire = new THREE.Object3D();
    var geometry = new THREE.CircleGeometry(10, 30);
    var material = new THREE.MeshLambertMaterial({
        map: colormap,
       // transparent: true,  // for cut-out texture
        alphaTest: 0.5,
        side: THREE.DoubleSide
    });
    carmesh1 = new THREE.Mesh(geometry, material);
colormap2.wrapS = colormap2.wrapT = THREE.RepeatWrapping; 
	colormap2.repeat.set( 8, 1 );
    carmesh2 = new THREE.Mesh(new THREE.CylinderGeometry(10, 10, 10, 30, 1, true), // only side
    new THREE.MeshLambertMaterial({
        map: colormap2,
        side: THREE.DoubleSide
    }));
    carmesh2.rotation.x = Math.PI / 2;
    carmesh1.position.set(0, 0, 5);
    carmesh0 = carmesh1.clone();
    carmesh0.position.set(0, 0, -5);
    carmesh0.rotation.y = Math.PI;
    tire.add (carmesh1);
    tire.add(carmesh0);
    tire.add(carmesh2);

    return tire;
}

/*function update(dt) {
  	keyboard.update();
	if ( keyboard.pressed("left")&&keyboard.pressed("up") ) {
  	people[0].rotation.x-=Math.PI / 256
    people[0].rotation.z-=Math.PI / 256
    if(people[0].rotation.x<-Math.PI / 16)	people[0].rotation.x=-Math.PI / 16
    if(people[0].rotation.z<-Math.PI / 16)	people[0].rotation.z=-Math.PI / 16
  	speed += 1; 
    }
  if ( keyboard.pressed("left")&&keyboard.pressed("down") ) {
  	people[0].rotation.x-=Math.PI / 256
    people[0].rotation.z+=Math.PI / 256
    if(people[0].rotation.x<-Math.PI / 16)	people[0].rotation.x=-Math.PI / 16
    if(people[0].rotation.z>Math.PI / 16)	people[0].rotation.z=Math.PI / 16
  	speed -= 1;   
    }
  if ( keyboard.pressed("left") ) {
   	people[0].rotation.x-=Math.PI / 256
    if(people[0].rotation.x<-Math.PI / 8)	people[0].rotation.x=-Math.PI / 8
  	speed += 0.5*a; 
		angle += 0.01;   
    }
  if ( keyboard.pressed("right")&&keyboard.pressed("up") ) {
    people[0].rotation.x+=Math.PI / 256
    people[0].rotation.z-=Math.PI / 256
    if(people[0].rotation.x>Math.PI / 16)	people[0].rotation.x=Math.PI / 16
    if(people[0].rotation.z<-Math.PI / 16)	people[0].rotation.z=-Math.PI / 16
  	speed += 1;   
    }
  if ( keyboard.pressed("right")&&keyboard.pressed("down") ) {
    people[0].rotation.x+=Math.PI / 256
    people[0].rotation.z+=Math.PI / 256
    if(people[0].rotation.x>Math.PI / 16)	people[0].rotation.x=Math.PI / 16
    if(people[0].rotation.z>Math.PI / 16)	people[0].rotation.z=Math.PI / 16
  	speed -= 1;  
    }
  if ( keyboard.pressed("right") ) {
    people[0].rotation.x+=Math.PI / 256
    if(people[0].rotation.x>Math.PI / 8)	people[0].rotation.x=Math.PI / 8
  	speed += 0.5*a; 
		angle -= 0.01;   
    }      
    if ( keyboard.pressed("up")&&keyboard.pressed("left")&&keyboard.pressed("right")  ) {
    people[0].rotation.z-=Math.PI / 256
    if(people[0].rotation.z<-Math.PI / 8)	people[0].rotation.z=-Math.PI / 8
  	speed += 1.5;     
    }
	if ( keyboard.pressed("down")&&keyboard.pressed("left")&&keyboard.pressed("right") ) {
    people[0].rotation.z+=Math.PI / 256
    if(people[0].rotation.z>Math.PI / 8)	people[0].rotation.z=Math.PI / 8
		speed -= 1.5;    
    }
	if ( keyboard.pressed("up") ){ 
    people[0].rotation.z-=Math.PI / 256
    if(people[0].rotation.z<-Math.PI / 8)	people[0].rotation.z=-Math.PI / 8
    speed += 1.5;
 		a=1;
    }
	if ( keyboard.pressed("down") ) {
    people[0].rotation.z+=Math.PI / 256
    if(people[0].rotation.z>Math.PI / 8)	people[0].rotation.z=Math.PI / 8
    speed -= 1.5;  
 		a=-1;
    }
  people[0].rotation.x*=0.95;
  people[0].rotation.z*=0.95;
  speed*=0.95;
	speed = Math.clamp (speed, -20.0, 20.0);		
	vel = new THREE.Vector3(speed,0,0);
	
	vel.applyAxisAngle (new THREE.Vector3(0,1,0), angle);
	pos.add (vel.clone().multiplyScalar(dt)); 	
}*/




function animate() {


	/*keyboard.update();
//	head.rotation.y = Math.PI/6;
  controls.update();
  var dt = clock.getDelta();
  update(dt);*/
  // car update
  /*car.position.copy(pos);
  car.rotation.y = angle;*/
  /*sound.setRefDistance( 150 );
  sound.setDirectionalCone( 90, 120, 0.5);
  sound2.setRefDistance( 150 );
  sound2.setDirectionalCone( 90, 120, 0.5);*/
  /*if((car.position.x<=circle.position.x+5&&car.position.x>=circle.position.x-5)&&(car.position.y<=circle.position.y+5&&car.position.y>=circle.position.y-5)&&(car.position.z<=circle.position.z+5&&car.position.z>=circle.position.z-5)&&(car.rotation.y<=cylinder2.rotation.y+Math.PI/6&&car.rotation.y>=cylinder2.rotation.y-Math.PI/6)){*/
  //Pianocylinder.rotation.x-=0.00325; 600
	//Pianohead2.rotation.x-=0.0145;
 	//Pianocylinder.rotation.x-=0.005; //1200
  Pianocylinder.rotation.x-=0.00525;
  Pianohead2.rotation.x-=0.0212;
  keyframe(clock.getElapsedTime());   
  people[3].rotation.y = intKey[0];//gcontrol.theta1;
  people[4].rotation.y = intKey[1];//gcontrol.theta2;
  people[5].rotation.y = intKey[2];//gcontrol.theta3;
  people[6].rotation.y = intKey[3];//gcontrol.theta4;
  people[7].rotation.y = intKey[4];//gcontrol.theta5;
  people[8].rotation.y = intKey[5];//gcontrol.theta6;
  people[9].rotation.y =intKey[6];//gcontrol.theta7;
  people[10].rotation.y =intKey[7];//gcontrol.theta8;
  people[1].rotation.y= intKey[8];//gcontrol.theta9;
  people[2].rotation.y = intKey[9];//gcontrol.theta10;

    /////////////////////////////////

    if(leftarm[1].rotation.y<0.012){
			collisionsound.play();
    }
    if(rightarm[1].rotation.y<0.012){
			collisionsound.play();
      //console.log(b);
    }
	//}

  //////////////////////////////////////////////
  //if(car2.rotation.y<=circle.rotation.y&&car2.rotation.y>=circle.rotation.y-Math.PI){

  keyframe2(clock.getElapsedTime()); 
  people2[3].rotation.y =intKey2[0];// gcontrol.theta1;
  people2[4].rotation.y =intKey2[1];// gcontrol.theta2;
  people2[5].rotation.y = intKey2[2];// gcontrol.theta3;
  people2[6].rotation.y =intKey2[3];// gcontrol.theta4;
  people2[7].rotation.y = intKey2[4];// gcontrol.theta5;
  people2[8].rotation.y = intKey2[5];// gcontrol.theta6;
  people2[9].rotation.y =intKey2[6];// gcontrol.theta7;
  people2[10].rotation.y =intKey2[7];// gcontrol.theta8;
  people2[1].rotation.x= intKey2[8];// gcontrol.theta9;
  people2[2].rotation.y = intKey2[9];// gcontrol.theta10;
  people2[4].rotation.z = intKey2[10];// gcontrol.theta11;
  people2[6].rotation.z = intKey2[11];// gcontrol.theta12;
    /////////////////////////////////
  	if(people2[6].rotation.z<-0.71){
			collisionsound2.play();
    }
	//}

  //if(car3.rotation.y<=circle.rotation.y&&car3.rotation.y>=circle.rotation.y-Math.PI){

  keyframe3(clock.getElapsedTime()); 
  people3[3].rotation.y = intKey3[0];//gcontrol.theta1;
  people3[4].rotation.y = intKey3[1];//gcontrol.theta2;
  people3[5].rotation.y = intKey3[2];//gcontrol.theta3;
  people3[6].rotation.y = intKey3[3];//gcontrol.theta4;
  people3[7].rotation.y = intKey3[4];//gcontrol.theta5;
  people3[8].rotation.y = intKey3[5];//gcontrol.theta6;
  people3[9].rotation.y =intKey3[6];//gcontrol.theta7;
  people3[10].rotation.y =intKey3[7];//gcontrol.theta8;
  people3[1].rotation.y= intKey3[8];//gcontrol.theta9;
  people3[2].rotation.y = intKey3[9];//gcontrol.theta10;
 	people3[3].rotation.z=intKey3[10];//gcontrol.theta11;
  people3[5].rotation.z = intKey3[11];//gcontrol.theta12;
 	people3[4].rotation.x= intKey3[12];//gcontrol.theta13;
  people3[6].rotation.x =intKey3[13];//gcontrol.theta14;
    /////////////////////////////////
    if(people3[4].rotation.x>1.7175){
			collisionsound3.play();
    }
  	if(people3[6].rotation.x<-1.7175){
			collisionsound3.play();
    }
	//}
	/////////////////////////////////////
  keyframe4(clock.getElapsedTime());   
  people4[3].rotation.y = intKey4[0];//gcontrol.theta1;
  people4[4].rotation.y = intKey4[1];//gcontrol.theta2;
  people4[5].rotation.y = intKey4[2];//gcontrol.theta3;
  people4[6].rotation.y = intKey4[3];//gcontrol.theta4;
  people4[7].rotation.y = intKey4[4];//gcontrol.theta5;
  people4[8].rotation.y = intKey4[5];//gcontrol.theta6;
  people4[9].rotation.y =intKey4[6];//gcontrol.theta7;
  people4[10].rotation.y =intKey4[7];//gcontrol.theta8;
  people4[1].rotation.y= intKey4[8];//gcontrol.theta9;
  people4[2].rotation.y = intKey4[9];//gcontrol.theta10;
  people4[4].rotation.z = intKey4[10];//gcontrol.theta11;
  people4[6].rotation.z = intKey4[11];//gcontrol.theta12;
    /////////////////////////////////
  keyframe5(clock.getElapsedTime());   
  Pianokey.rotation.x = intKey5[0];//gcontrol.theta1;
  Pianokey3.rotation.x = intKey5[1];//gcontrol.theta1;
  Pianokey4.rotation.x = intKey5[2];//gcontrol.theta1;
  Pianokey5.rotation.x = intKey5[3];//gcontrol.theta1;
  Pianokey6.rotation.x = intKey5[4];//gcontrol.theta1;
  Pianokey7.rotation.x = intKey5[5];//gcontrol.theta1;
  Pianokey8.rotation.x =intKey5[6];//gcontrol.theta1;
  Pianokey9.rotation.x =intKey5[7];//gcontrol.theta1;
  Pianokey10.rotation.x =intKey5[8];//gcontrol.theta1;
  Pianokey11.rotation.x =intKey5[9];//gcontrol.theta1;
    /////////////////////////////////////

    if(Pianokey.rotation.x>0.19){
      collisionsound4.play();
    }
    if(Pianokey3.rotation.x>0.19){
      collisionsound5.play();
    }
    if(Pianokey4.rotation.x>0.19){
      collisionsound6.play();
    }
    if(Pianokey5.rotation.x>0.19){
      collisionsound7.play();
    }
    if(Pianokey6.rotation.x>0.19){
      collisionsound8.play();
    }
    if(Pianokey7.rotation.x>0.19){
      collisionsound9.play();
    }
    if(Pianokey8.rotation.x>0.19){
      collisionsound10.play();
    }
    if(Pianokey9.rotation.x>0.19){
      collisionsound11.play();
    }
    if(Pianokey10.rotation.x>0.19){
      collisionsound12.play();
    }
    if(Pianokey11.rotation.x>0.19){
      collisionsound13.play();
    }
  requestAnimationFrame(animate);
  render();

}



function loadJSON() {
	return{
  "preset": "key1",
  "remembered": {
    "Default": {
      "0": {}
    },
    "key1": {
      "0": {
        "theta1": 1.2057796021989051,
        "theta2": 0,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.33541054459782915,
        "theta10": -0.025268798743482757,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key2": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.24679861721087304,
        "theta10": -0.06957476243696081,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key3": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 0,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.48424978373151495,
        "theta10": 0.15,
        "theta11": 0,
        "theta12": 0.6
      }
    },
    "key4": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.2184140015706466,
        "theta10": 0.17410803787716844,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key5": {
      "0": {
        "theta1": 1.2057796021989051,
        "theta2": 0,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.33541054459782915,
        "theta10": -0.025268798743482757,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key6": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.09501469296521,
        "theta4": 0,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.48424978373151495,
        "theta10": 0.08549611049021233,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key7": {
      "0": {
        "theta1": 1.5,
        "theta2": 0,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.33541054459782915,
        "theta10": -0.15,
        "theta11": -0.6,
        "theta12": 0
      }
    },
    "key8": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.24679861721087304,
        "theta10": -0.06957476243696081,
        "theta11": 0,
        "theta12": 0
      }
    } ,
    "key9": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.09501469296521,
        "theta4": 0,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.48424978373151495,
        "theta10": 0.08549611049021233,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key10": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.2184140015706466,
        "theta10": 0.17410803787716844,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key11": {
      "0": {
        "theta1": 1.5,
        "theta2": 0,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.33541054459782915,
        "theta10": -0.15,
        "theta11": -0.6,
        "theta12": 0
      }
    },
    "key12": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.24679861721087304,
        "theta10": -0.06957476243696081,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key13": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.09501469296521,
        "theta4": 0,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.48424978373151495,
        "theta10": 0.08549611049021233,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key14": {
      "0": {
        "theta1": 1.2057796021989051,
        "theta2": 0,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": -0.33541054459782915,
        "theta10": -0.025268798743482757,
        "theta11": 0,
        "theta12": 0
      }
    },
    "key15": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 0,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.48424978373151495,
        "theta10": 0.15,
        "theta11": 0,
        "theta12": 0.6
      }
    },
    "key16": {
      "0": {
        "theta1": 1.5,
        "theta2": 1,
        "theta3": 1.5,
        "theta4": 1,
        "theta5": 0,
        "theta6": 0,
        "theta7": 0,
        "theta8": 0,
        "theta9": 0.2184140015706466,
        "theta10": 0.17410803787716844,
        "theta11": 0,
        "theta12": 0
      }
    }
  },
  "closed": false,
  "folders": {}
}
}


function render() {

  renderer.render(scene, camera);

}


</script>

  </body>
</html>